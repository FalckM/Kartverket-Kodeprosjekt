@model IEnumerable<FirstWebApplication.Models.ObstacleData>
@{
    ViewData["Title"] = "Oversikt over hindere";
}

<!-- Hvit bakgrunn og sentrert innhold -->
<div class="container py-4" style="background-color:white; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1);">
    <h2 class="mb-4 text-center fw-bold text-black">Oversikt over registrerte luftfartshindere</h2>

    <table id="obstacleTable" class="table table-bordered table-hover text-center align-middle">
        <thead style="background-color:#007bff; color:white;">
            <tr>
                <th>Navn</th>
                <th>Høyde (m)</th>
                <th>Beskrivelse</th>
                <th>Tid</th>
                <th>Registrert av</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.ObstacleName</td>
                    <td>@item.ObstacleHeight</td>
                    <td>@item.ObstacleDescription</td>
                    <td>@item.RegisteredDate.ToString("dd.MM.yyyy HH:mm")</td>
                    <td>@item.RegisteredBy</td>
                </tr>
            }
        </tbody>
    </table>
</div>

@section Scripts {
    <!-- jQuery og DataTables -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css" />

    <script>
        $(document).ready(function () {
            $('#obstacleTable').DataTable({
                "order": [[3, "desc"]], // Standard: sortér etter "Tid"
                "pageLength": 10,
                "scrollY": "500px",
                "scrollCollapse": true,
                "paging": true,
                "language": {
                    "search": "Søk:",
                    "lengthMenu": "Vis _MENU_ rader per side",
                    "info": "Viser _START_ til _END_ av _TOTAL_ hindere",
                    "paginate": {
                        "first": "Første",
                        "last": "Siste",
                        "next": "Neste",
                        "previous": "Forrige"
                    }
                }
            });
        });
    </script>

    <style>
        body {
            background-color: white;
        }

        /* Excel-lignende grid */
        table.dataTable {
            border-collapse: collapse !important;
            border: 1px solid #d0d0d0;
        }

        table.dataTable th, table.dataTable td {
            border: 1px solid #d0d0d0;
            color: black;
        }

        table.dataTable thead th {
            background-color: #007bff !important;
            color: white !important;
            font-weight: bold;
        }

        table.dataTable tbody tr:hover {
            background-color: #e6f0ff !important;
        }
    </style>
}
