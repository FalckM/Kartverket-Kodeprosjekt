@page
@model FirstWebApplication.Areas.Identity.Pages.Account.RegisterModel
@{
    Layout = "/Areas/Identity/Pages/_AuthLayout.cshtml";
    ViewData["Title"] = "Registrer";
}

<!-- Kartet -->
<div id="landing-map"></div>

<!-- Mørk overlay -->
<div class="absolute inset-0 bg-black opacity-40 z-10"></div>

<!-- Registreringsboks -->
<div class="relative z-20 flex items-center justify-center min-h-screen">
    <div class="w-full max-w-md bg-white/95 rounded-2xl shadow-xl p-8">
        <h1 class="text-3xl font-extrabold text-center text-blue-700 mb-6">Opprett konto</h1>

        <form id="registerForm" asp-route-returnUrl="@Model.ReturnUrl" method="post">
            <div class="mb-4">
                <label asp-for="Input.Email" class="block font-semibold mb-1 text-gray-800">E-post</label>
                <input asp-for="Input.Email"
                       class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300" />
                <span asp-validation-for="Input.Email" class="text-red-600 text-sm"></span>
            </div>

            <div class="mb-4">
                <label asp-for="Input.Password" class="block font-semibold mb-1 text-gray-800">Passord</label>
                <input asp-for="Input.Password" type="password"
                       class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300" />
                <span asp-validation-for="Input.Password" class="text-red-600 text-sm"></span>
            </div>

            <div class="mb-6">
                <label asp-for="Input.ConfirmPassword" class="block font-semibold mb-1 text-gray-800">Bekreft passord</label>
                <input asp-for="Input.ConfirmPassword" type="password"
                       class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300" />
                <span asp-validation-for="Input.ConfirmPassword" class="text-red-600 text-sm"></span>
            </div>

            <button id="registerSubmit" type="submit"
                    class="w-full py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition">
                Registrer
            </button>

            <p class="mt-5 text-center text-gray-100">
                Allerede bruker?
                <a asp-page="./Login" class="text-blue-400 hover:text-blue-300 font-semibold">Logg inn</a>
            </p>
        </form>
    </div>
</div>

@section Scripts {
    <link rel="stylesheet"
          href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var map = L.map('landing-map', {
                center: [60.4720, 8.4689],
                zoom: 5,
                zoomControl: false,
                dragging: false,
                touchZoom: false,
                scrollWheelZoom: false,
                doubleClickZoom: false,
                boxZoom: false,
                keyboard: false
            });

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);
        });
    </script>

    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            background: none !important;
        }

        #landing-map {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
    </style>
}
